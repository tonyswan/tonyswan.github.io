# Промежуточная версия. Выполнение заданий Выписки на перемещение товаров из ячеек хранения (MS) в операционные ячейки (OP).

## Описание
Товары на основном складе находятся в 2 (3) ячеистых пространствах:
- **MS — Хранение.** В ячейках с таким префиксом возможно только хранение товара. Подбор товара из таких ячеек запрещен. Перенос товара из таких ячеек возможен в ячейки с префиксом MS и OP.
- **OP — Операции (Подбор).** В ячейках с таким префиксом возможно временное хранение товара и подбор. Перенос товара из таких ячеек возможен **только** в ячейки с префиксом OP. Перенос в ячейки с префиксом MS **запрещен**.

В процессе работы отдела «Выписка» по приему заказов в системе учета формируются (1С) документы перемещения между ячейками, перемещающие товар из ячеек хранения (MS) в операционные ячейки (OP) для дальнейшего подбора. Адрес ячейки из которой перемещается товар известен системе заранее, и указан в документе. Адрес ячейки-приемника не известен системе, на его месте временно стоит адрес «ТРАНЗИТ». Это необходимо для возможности проведения документа, которая обеспечивает работу алгоритма оценки оперативных остатков.
### Последовательность работы по процессу
1. После формирования перемещения между ячейками (склад отправления и назначения должен быть идентичен, любые ячейки) со статусом «Готов к перемещению», такой документ через обмен должен поступить на ТСД в раздел «Перемещение по ячейкам». Загрузка нового документа должна давать звуковое и тактильное оповещение. В обмен попадают те документы, в которых есть строки с ячейкой-приемником «ТРАНЗИТ» (не обязательно все строки, хотя бы одна).
2. После входа в раздел, оператор выбирает документ из списка или читает ШК нанесенный на печатную копию документа. 
3. В выбранном документе должны отображаться только строки с в которых указана ячейка-приемник «ТРАНЗИТ». Строки с другими ячейками не отображаются.
4. Ячейка-приемник «ТРАНЗИТ» должна восприниматься как пустая. Задача оператора назначить в такие строки новую ячейку-приемник. 
5. Оператор сканирует ШК ячейку из строки задания. На терминале выбирается соответствующая строка. Ячейка-приемник «ТРАНЗИТ» скрыта от оператора. (Последняя опция факультативна, нужна только при малом времени разработки и не высокой стоимости)
6. Оператор НЕ сканирует товар. В данной версии решения, весь товар в задании считается подобранным по-умолчанию.
7. Оператор сканирует ячейку-приемник. В этот момент, еще до записи, необходимо проверить префикс сканированной ячейки, он может быть только ОР. Если введен адрес ячейки с любым другим префиксом отличным от ОР, запись адреса не должна быть произведена, а на экране ТСД должно появится предупреждение вида: «Перемещение в ячейку с таким адресом запрещено в исполняемом складском процессе». После нажатия оператором кнопки «Понятно» в таком предупреждении, операция должна продолжаться с того же места, тоесть сразу давать возможность сканировать другую ячейку-приемник, без повторного выбора строки задания (путем сканирования ячейки из задания).
8. После выполнения всех строк задания, оператор завершает работу с документом стандартным путем, нажимая последовательно кнопку «Выйти» в меню документа, и кнопку «Завершить» в диалоговом окне. В этот момент должна проходить проверка на отсутствие в полях «Ячейка-приемник» во всех строках значения «ТРАНЗИТ» или пустого значения. Если проверка прошла успешно, документ закрывается, отправляется обратно в учет и пропадает из списка заданий раздела «Перемещение по ячейкам». Если проверка прошла с обнаружением недопустимых параметров, документ не закрывается, на экране выводится диалоговое окно вида: «Задание выполнено не полностью. Завершите выполнение задания или временно выйдете», и 2 кнопки: «Продолжить задание» — сворачивает диалоговое окно, не закрывает документ; «Временно выйти» — временно закрывает документ, оставляя его в списке заданий, документ не отправляется в учет до полного выполнения. (Ранее внесенные адреса ячеек-приемников должны быть сохранены)